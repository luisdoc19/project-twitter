(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[439],{480:function(e,t,s){Promise.resolve().then(s.t.bind(s,6656,23)),Promise.resolve().then(s.t.bind(s,6208,23)),Promise.resolve().then(s.t.bind(s,8169,23)),Promise.resolve().then(s.t.bind(s,3699,23)),Promise.resolve().then(s.bind(s,2974)),Promise.resolve().then(s.bind(s,2987)),Promise.resolve().then(s.bind(s,6004))},2987:function(e,t,s){"use strict";s.r(t);var r=s(6705),l=s(3082),n=s(4033),a=s(955),i=s(1424);t.default=e=>{let{text:t}=e,s=(0,n.useRouter)(),[o,c]=a.useState(!1),d=async e=>{var r,n;e.preventDefault(),c(!0);let a=Object.fromEntries(new FormData(e.currentTarget)),o=(0,l.createClientComponentClient)();if("Full Name"===t){let{error:e}=await o.auth.updateUser({data:{name:a.data.toString()}});if(!e){i.A.success("Full Name Updated");let e=await o.auth.getUser(),{data:t,error:l}=await o.from("users").update({name:a.data.toString()}).eq("id",null===(r=e.data.user)||void 0===r?void 0:r.id);l||s.push("/"),c(!1)}}else{let{error:e}=await o.auth.updateUser({data:{user_name:a.data.toString()}});if(!e){i.A.success("Username Updated");let e=await o.auth.getUser(),{data:t,error:r}=await o.from("users").update({user_name:a.data.toString()}).eq("id",null===(n=e.data.user)||void 0===n?void 0:n.id);r||s.push("/"),c(!1)}}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.x,{richColors:!0,position:"top-right"}),(0,r.jsxs)("form",{onSubmit:d,children:[(0,r.jsxs)("div",{className:"px-4 pb-4",children:[(0,r.jsx)("label",{className:"text-[#bbb] text-sm text-scale-1100",children:t}),(0,r.jsx)("input",{type:"text",name:"data",placeholder:t,className:"peer/input  block box-border w-full rounded-md shadow-sm transition-all text-[#ededed] focus:shadow-md outline-none focus:ring-current focus:ring-2 focus:border-[#707070] focus:ring-[#282828] placeholder-[#505050]  bg-[#222222] border border-[#3e3e3e]  text-sm px-4 py-2"})]}),(0,r.jsx)("div",{className:"flex w-full justify-end bg-[#282828] border-t border-[#2e2e2e] px-3 py-4",children:(0,r.jsxs)("button",{className:"relative justify-center cursor-pointer inline-flex items-center space-x-2 text-center font-regular rounded-md outline-none transition-all outline-0 focus-visible:outline-4 focus-visible:outline-offset-1 border bg-[#33cc87] hover:bg-[#10472f]/90  text-white border-[#33cc87]  focus-visible:outline-[#10472f] shadow-sm  text-sm leading-4 px-3 py-2 ".concat(o?"opacity-50 cursor-not-allowed pointer-events-none":"opacity-100",'"}'),children:[o&&(0,r.jsx)("span",{className:"loading"}),"Save"]})})]})]})}},6004:function(e,t,s){"use strict";s.r(t);var r=s(6705),l=s(955),n=s(3082),a=s(9222),i=s(1424),o=s(4033);t.default=e=>{let{user:t}=e,s=(0,o.useRouter)(),[c,d]=(0,l.useState)(null),[u,x]=(0,l.useState)(!1),h=(0,l.useRef)(null),m=(0,l.useRef)(null),f=async e=>{var r;e.preventDefault();let l=new FormData(e.currentTarget),o=(0,n.createClientComponentClient)();if(null===h.current||!l.get("text")||(null===(r=h.current)||void 0===r?void 0:r.value.length)<3)return;let c=l.get("file");if(x(!0),c.size>0){let e=new FormData;if(e.append("upload_preset","curso-vue"),e.append("file",c),null===m.current)return;let{data:s}=await a.Z.post("https://api.cloudinary.com/v1_1/djrggifvj/image/upload",e);await o.from("posts").insert({text:l.get("text"),image:s.secure_url,user_id:t}),m.current.value="",i.A.success("Se ha a\xf1adido tu comentario")}else console.log("hola"),await o.from("posts").insert({text:l.get("text"),user_id:t}),i.A.success("Se ha a\xf1adido tu comentario");h.current.value="",x(!1),s.refresh(),d(null)};return(0,r.jsxs)("form",{onSubmit:f,className:"flex mx-auto",children:[(0,r.jsx)(i.x,{position:"top-right",closeButton:!0,richColors:!0,theme:"dark"}),(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:"peer/input outline-none block box-border scale-100 shadow-sm transition-all text-[#ededed] bg-[#222222] focus:shadow-md focus:ring-current focus:ring-2 focus:border-[#373737] focus:ring-[#292929] placeholder-[#505050] border  border-[#2e2e2e] w-[600px] mx-auto text-sm resize-none p-4",children:[(0,r.jsx)("textarea",{ref:h,name:"text",placeholder:"\xa1\xbfQu\xe9 esta pasando?!",className:" outline-none transition-all w-full text-[#ededed] bg-[#222222]  text-md resize-none pb-8 "}),(0,r.jsx)("div",{className:"py-2",children:c&&(0,r.jsx)("img",{src:URL.createObjectURL(c),alt:"",className:"rounded object-contain max-h-[500px] mx-auto"})}),(0,r.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("svg",{onClick:()=>{var e;return null===(e=m.current)||void 0===e?void 0:e.click()},xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-photo text-sky-600 cursor-pointer hover:text-sky-500 transition-all",width:"20",height:"20",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.jsx)("path",{d:"M15 8h.01"}),(0,r.jsx)("path",{d:"M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12z"}),(0,r.jsx)("path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5"}),(0,r.jsx)("path",{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l3 3"})]}),(0,r.jsx)("input",{ref:m,type:"file",name:"file",accept:".jpg,.png,.webp",className:"hidden",onChange:e=>{if(null===e.target.files)return;let t=e.target.files[0];d(t)}})]}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsxs)("button",{className:"relative justify-center cursor-pointer inline-flex items-center space-x-2 text-center font-regular rounded-md outline-none transition-all outline-0 focus-visible:outline-4 focus-visible:outline-offset-1 border bg-[#33cc87] hover:bg-[#10472f]/90  text-white border-[#33cc87]  focus-visible:outline-[#10472f] shadow-sm  text-sm leading-4 px-3 py-2 ".concat(u?"opacity-50 cursor-not-allowed pointer-events-none":"opacity-100",'"}'),children:[u&&(0,r.jsx)("span",{className:"loading"}),"Save"]})})]})]})})]})}},2974:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return d}});var r=s(6705),l=s(955),n=s(3082),a=e=>{let{post:t,addOptimisticPost:s}=e,l=async()=>{let e=(0,n.createClientComponentClient)(),{data:{user:r}}=await e.auth.getUser();r&&(t.user_liked?(s({...t,post_like_length:t.post_like_length-1,user_liked:!t.user_liked}),await e.from("like").delete().match({user_id:r.id,posts_id:t.id})):(s({...t,post_like_length:t.post_like_length+1,user_liked:!t.user_liked}),await e.from("like").insert({user_id:r.id,posts_id:t.id})))};return(0,r.jsxs)("div",{className:"flex items-center mr-6",children:[(0,r.jsx)("div",{className:"p-2 hover:bg-red-600/10 rounded-full cursor-pointer",onClick:l,children:t.user_liked?(0,r.jsxs)("svg",{className:"icon icon-tabler icon-tabler-heart-filled text-red-700 hover:text-red-[700] cursor-pointer w-[18px] h-[18px]",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.jsx)("path",{d:"M6.979 3.074a6 6 0 0 1 4.988 1.425l.037 .033l.034 -.03a6 6 0 0 1 4.733 -1.44l.246 .036a6 6 0 0 1 3.364 10.008l-.18 .185l-.048 .041l-7.45 7.379a1 1 0 0 1 -1.313 .082l-.094 -.082l-7.493 -7.422a6 6 0 0 1 3.176 -10.215z",fill:"currentColor"})]}):(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-heart cursor-pointer",width:"18",height:"18",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.jsx)("path",{d:"M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})]})}),(0,r.jsx)("span",{className:"ml-1 text-sm",children:t.post_like_length})]})},i=s(1396),o=s.n(i),c=s(2242),d=e=>{let{posts:t,session:s}=e,[n,i]=(0,l.experimental_useOptimistic)(t,(e,t)=>{let s=[...e],r=s.findIndex(e=>e.id===t.id);return s[r]=t,s});return n.map(e=>(0,r.jsxs)("div",{className:"border border-[#2e2e2e] p-4  max-w-[600px] mx-auto",children:[(0,r.jsx)("div",{className:"flex justify-between w-max  ",children:(0,r.jsx)("div",{className:"flex gap-2",children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:" flex flex-row gap-1 items-start",children:[(0,r.jsx)(c.Z,{post:e,session:s}),(0,r.jsx)("span",{className:"text-white font-bold block text-md cursor-pointer",children:(0,r.jsx)(o(),{href:"/".concat(null==e?void 0:e.users.user_name),children:null==e?void 0:e.users.name})}),(0,r.jsx)("span",{className:"text-gray-400 font-light block text-sm mt-[1.5px]",children:(0,r.jsxs)(o(),{href:"/".concat(null==e?void 0:e.users.user_name),children:["@",null==e?void 0:e.users.user_name]})}),(0,r.jsxs)("span",{className:"text-gray-400 font-light block text-sm mt-[1.5px]",suppressHydrationWarning:!0,children:["\xb7 ",function(e){let t=new Date,s=new Date(e),r=t.getTime()-s.getTime(),l=Math.floor(r/1e3),n=Math.floor(l/60),a=Math.floor(n/60);if(Math.floor(a/24)>0){let e=s.getDate(),t=s.toLocaleString("default",{month:"short"});return"".concat(e," ").concat(t)}return a>0?"".concat(a,"h"):n>0?"".concat(n,"m"):"".concat(l,"s")}(e.created_at)]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-[#e7e9ea] text-sm block  leading-snug ",children:null==e?void 0:e.text}),e.image&&(0,r.jsx)("div",{className:"flex mx-auto h-auto w-[570px] py-4",children:(0,r.jsx)("img",{src:null==e?void 0:e.image,alt:"",className:"rounded object-cover w-full h-full"})})]})]})})}),(0,r.jsxs)("div",{className:"text-gray-400 mx-auto flex flex-row justify-center",children:[(0,r.jsxs)("div",{className:"flex items-center mr-6",children:[(0,r.jsx)("svg",{viewBox:"0 0 24 24",className:"r-1re7ezh r-4qtqp9 r-yyyyoo r-1xvli5t r-dnmrzs r-bnwqim r-1plcrui r-lrvibr fill-current h-5 w-auto",children:(0,r.jsx)("g",{children:(0,r.jsx)("path",{d:"M14.046 2.242l-4.148-.01h-.002c-4.374 0-7.8 3.427-7.8 7.802 0 4.098 3.186 7.206 7.465 7.37v3.828c0 .108.044.286.12.403.142.225.384.347.632.347.138 0 .277-.038.402-.118.264-.168 6.473-4.14 8.088-5.506 1.902-1.61 3.04-3.97 3.043-6.312v-.017c-.006-4.367-3.43-7.787-7.8-7.788zm3.787 12.972c-1.134.96-4.862 3.405-6.772 4.643V16.67c0-.414-.335-.75-.75-.75h-.396c-3.66 0-6.318-2.476-6.318-5.886 0-3.534 2.768-6.302 6.3-6.302l4.147.01h.002c3.532 0 6.3 2.766 6.302 6.296-.003 1.91-.942 3.844-2.514 5.176z"})})}),(0,r.jsx)("span",{className:"ml-3",children:"2"})]}),(0,r.jsx)(a,{post:e,addOptimisticPost:i})]})]},e.id))}},2242:function(e,t,s){"use strict";var r=s(6705);s(955);var l=s(1889),n=s(1396),a=s.n(n),i=s(6691),o=s.n(i),c=s(4127),d=s(5576);t.Z=e=>{let{post:t,session:s}=e;return(0,r.jsx)(d.w,{children:(0,r.jsx)(l.e,{className:"bg-[#1c1c1c] w-full p-4 focus:border-[#494949]   focus:ring-[#313131] placeholder-[#505050] border border-[#3e3e3e]",content:(0,r.jsxs)("div",{className:"",children:[(0,r.jsxs)("div",{className:"flex flex-row gap-20",children:[(0,r.jsx)("div",{children:(0,r.jsx)(a(),{href:"/".concat(t.users.user_name),children:(0,r.jsx)(o(),{alt:t.users.user_name,src:t.users.avatar_url||c.default,width:1080,height:1080,className:"h-[70px] w-[70px] rounded-full flex self-center cursor-pointer select-none"})})}),s&&t.user_id!==s.user.id?(0,r.jsx)("button",{className:"h-full px-5 py-[7px] cursor-pointer space-x-2 text-center font-regular ease-out duration-200 rounded-2xl outline-none transition-all outline-0 focus-visible:outline-4 focus-visible:outline-offset-1 border text-black border-white hover:border-[#fff] bg-[#fff] hover:bg-[#fff]/60 focus-visible:outline-[#155b3d] shadow-sm text-sm font-bold ",children:"Seguir"}):(0,r.jsx)("div",{className:"w-[86px] h-[20]"})]}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)(a(),{href:"/".concat(t.users.user_name),children:(0,r.jsx)("span",{className:"text-white font-bold block text-xl cursor-pointer hover:underline",children:t.users.name})}),(0,r.jsx)(a(),{href:"/".concat(t.users.user_name),children:(0,r.jsxs)("span",{className:"text-gray-400 font-light block text-sm cursor-pointer",children:["@",t.users.user_name]})})]}),(0,r.jsxs)("div",{className:"flex flex-row gap-2 mt-2 text-gray-400 font-light  text-sm",children:[(0,r.jsxs)("span",{className:"flex flex-row gap-1 cursor-pointer hover:underline",children:[(0,r.jsx)("strong",{className:"text-white font-bold block text-md",children:"0"}),"Siguiendo"]}),(0,r.jsxs)("span",{className:"ml-2 flex flex-row gap-1 cursor-pointer hover:underline",children:[(0,r.jsx)("strong",{className:"text-white font-bold block text-md",children:"12"}),"Seguidores"]})]})]}),delay:500,children:(0,r.jsx)(a(),{href:"/".concat(null==t?void 0:t.users.user_name),children:(0,r.jsx)(o(),{src:t.users.avatar_url||c.default,alt:t.user_id||t.users.user_name,width:900,height:900,className:"h-10 w-10 rounded-full select-none outline-none cursor-pointer"})})})})}},4127:function(e,t,s){"use strict";s.r(t),t.default={src:"/_next/static/media/not-user.dd1cf84a.webp",height:1280,width:1280,blurDataURL:"data:image/webp;base64,UklGRkAAAABXRUJQVlA4IDQAAADQAQCdASoIAAgAAkA4JZwAApp5NNc3YAD++trXjhfbjGC8/uVuB7eCt9eQU+qmh+/HSzAA",blurWidth:8,blurHeight:8}}},function(e){e.O(0,[685,116,222,442,105,121,114,744],function(){return e(e.s=480)}),_N_E=e.O()}]);